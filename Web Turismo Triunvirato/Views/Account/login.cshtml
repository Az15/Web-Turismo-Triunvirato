<div class="login-container">
    <h2>Bienvenido</h2>
    <form asp-controller="Account" asp-action="Authenticate" method="post">
        <div class="form-group">
            <label for="Email">Correo Electrónico:</label>
            <input type="email" class="form-control" id="Email" name="Email" required>
        </div>
        <div class="form-group">
            <label for="Password">Contraseña:</label>
            <input type="password" class="form-control" id="Password" name="Password" required>
        </div>
        <br>
        <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
    </form>

    <div class="login-options">
        <p>¿No tienes cuenta?</p>

        <!-- Contenedor para el botón de Google (lo genera Google Identity Services) -->
        <!-- NOTA: El data-client_id debe ser tu ID de cliente de Google -->
        <div id="g_id_onload"
             data-client_id="YOUR_GOOGLE_CLIENT_ID"
             data-callback="handleCredentialResponse"
             data-auto_prompt="false">
        </div>

        <!-- Este div hace que la biblioteca de Google renderice el botón aquí -->
        <div class="g_id_signin"
             data-type="standard"
             data-shape="rectangular"
             data-size="large"
             data-theme="outline"
             data-text="continue_with"
             data-logo_alignment="left">
        </div>

        <!-- Botón para crear cuenta con email -->
        <br>
        <a asp-controller="Account" asp-action="IngresarEmail" class="btn btn-secondary btn-sm">Crear cuenta con Email</a>
        <br>
    </div>
</div>

<!-- Enlace a tu CSS de login -->
<link rel="stylesheet" href="~/css/Login.css" /> 

<script>
    // Esta función debe estar definida en el ámbito global antes de que Google la busque.
    function handleCredentialResponse(response) {
        // La credencial de Google se encuentra en response.credential
        const idToken = response.credential;
        console.log("ID Token:", idToken);

        // Corregí la comilla simple mal cerrada en tu código original
        alert('¡Inicio de sesión con Google exitoso!'); 
    }
</script>

<script src="https://accounts.google.com/gsi/client" async defer></script>

<script src="~/js/login.js"></script>
